(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),r=n(19),c=n.n(r),a=n(13),o=n(2),l=n(4),u=n(9),d=n(12),j=[{id:0,name:"Questions Basics",questions:"use .getFormQuestions",description:"text inputs"},{id:1,name:"Questions 2",questions:"use .getFormQuestions",description:"radio, checkboxes and line type"},{id:2,name:"Questions 3",questions:"use .getFormQuestions",description:"all type mixed"}],b={0:{type:"shortAnswer",text:"What your age?",required:!0},1:{type:"longAnswer",text:"Could you describe best travel in your life?",required:!1},2:{type:"oneAnswer",text:"Where you live?",options:["Poland","Germany","Russia"],additionalAnswers:!0,required:!0},3:{type:"multipleAnswer",text:"What languages do you speak?",options:["Polish","English","German"],additionalAnswers:!1,required:!1},4:{type:"line",text:"How well you swim?",range:[0,10],required:!1},5:{type:"shortAnswer",text:"What your name?",required:!0},6:{type:"shortAnswer",text:"What your favourite animal?",required:!1},7:{type:"oneAnswer",text:"Do you like programming?",options:["True","False"],additionalAnswers:!0,required:!0},8:{type:"multipleAnswer",text:"What type of music you listen?",options:["Jazz","Rock","Pop","Indie","Folk","Hip Hop","Blues","Country"],additionalAnswers:!1,required:!1},9:{type:"line",text:"How often you dance?",range:[0,5],required:!0}},h={0:[0,1,2],1:[3,4],2:[5,6,7,8,9]},m={0:{0:{0:"30",1:"Boasting one of the biggest and baddest national parks in Serengeti and 16 national parks in total, Tanzania is the perfect place to watch the annual wildebeest migration. Watching baby elephants playing with their moms and pops in the muddy Rufiji/Tarangire River is one of the epic lifetime experiences to keep in your memories bright for decades.",2:["Poland ","Germany"]},1:{0:"44",1:"Now if you have enough skills and bald courage, heli-skiing is one of the life changing experiences! Named as best for \u201cOff-the-beaten-path powder hounds with an aversion to glamour\u201d by Nat Geo, Girdwood has loads of incredible hills and off-pistes where you can be the first one to shake off the powder. Day trips with 16,000-18,000 vertical feet of skiing guaranteed start from $1,275 per person.",2:["Germany"]},2:{0:"11",1:"Meditate with a view of gorgeous Lake Mulshi, while nourishing your body with special foods and your soul with healing practices. Yoga holidays will bring the much needed balance back into your life and allow you to discover something new about yourself. Besides, you can\u2019t miss some of the most amazing temples in whole India \u2013 Shreemant Dagdusheth Halwai Sarvajanik Ganpati and iconic ISKCON NVCC Temple!",2:["English"]}},1:{0:{0:["Polish ","German"],1:"4"},1:{0:["English ","German"],1:"6"},2:{0:["German "],1:"3"}},2:{0:{0:"Patrick",1:"Dog",2:"True",3:"Rock",4:"0"},1:{0:"Anna",1:"Cat",2:"False",3:"Indie",4:"1"},2:{0:"Steve",1:"Birds",2:"True",3:"Classical",4:"5"},3:{0:"Jordan",1:"Fish",2:"False",3:"Electronic",4:"3"},4:{0:"Nick",1:"Tiger",2:"True",3:"Ambient",4:"2"}}},O={getForms:function(){return fetch("/forms"),new Promise((function(e,t){e(Object(d.a)(j))}))},getFormQuestions:function(e){return fetch("/questions/"+e),new Promise((function(t,n){t(h[e].map((function(e){return b[e]})))}))},getAnswers:function(e){return fetch("/answers/"+e),new Promise((function(t,n){t(m[e])}))},createForm:function(e){var t;if(fetch("/form",{method:"POST"}),!(null===(t=e.name)||void 0===t?void 0:t.length))return Promise.reject({error:"missing name"});var n=Math.max.apply(Math,Object(d.a)(j.map((function(e){return e.id})).filter(Boolean)).concat([0]));return j.push(Object(u.a)(Object(u.a)({},e),{},{id:n+1})),Promise.resolve(e)},createQuestion:function(e,t){b[e]=b[e]||[]},deleteForm:function(e){return fetch("/form",{method:"DELETE"}),j=j.filter((function(t){return t.id!==e})),Promise.resolve({info:"OK"})},deleteQuestion:function(e){return fetch("/question/"+e,{method:"DELETE"}),b=b.filter((function(t){return t.id!==e})),Promise.resolve({info:"OK"})},deleteQuestions:function(e){return fetch("/question/*",{method:"DELETE"}),delete b[e],Promise.resolve({info:"OK"})},updateForm:function(e,t){return fetch("/form"+e,{method:"PATCH"}),j=j.map((function(n){return n.id===e?Object(u.a)(Object(u.a)({},n),t):n})),Promise.resolve(t)},updateQuestion:function(e,t){return fetch("/question"+e,{method:"PATCH"}),b[e]=Object(u.a)(Object(u.a)({},b[e]),t),Promise.resolve(b[e])}},p=(n(26),n(0));var x=function(e){var t=e.onEdit,n=e.onView,i=e.onAnswer,r=Object(s.useState)([]),c=Object(l.a)(r,2),a=c[0],o=c[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(s.useState)(""),m=Object(l.a)(h,2),x=m[0],f=m[1];function w(){return O.getForms().then((function(e){return o(e)}))}return Object(s.useEffect)((function(){w()}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{className:"addNewList",children:[" ",Object(p.jsx)("h1",{children:"PS forms"}),Object(p.jsxs)("div",{className:"refreshWarning",children:["after ",Object(p.jsx)("b",{children:"refresh"})," app will load default data!"]}),Object(p.jsx)("input",{onChange:function(e){return b(e.target.value)},type:"text",placeholder:"List Name",id:"name",value:j}),Object(p.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"text",placeholder:"List Desciption",id:"description",value:x}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",onClick:function(e){return O.createForm({name:j,description:x}).then((function(e){w()})).catch((function(e){return alert(JSON.stringify(e))}))},children:"New form"})})]}),Object(p.jsx)("div",{className:"list",children:Object(p.jsx)("ul",{children:a.map((function(e){return Object(p.jsxs)("li",{children:[Object(p.jsxs)("div",{className:"nameAndDesc",children:[Object(p.jsx)("div",{className:"name",children:Object(p.jsxs)("b",{children:[" ",e.name]})}),Object(p.jsx)("div",{className:"desc",children:Object(p.jsx)("i",{children:e.description})})]}),Object(p.jsxs)("div",{className:"heightButtons",children:[" ",Object(p.jsx)("button",{className:"answerQuestion",onClick:function(){n(e.id,e)},children:"Answer Questions"}),Object(p.jsx)("button",{className:"viewAnswers",onClick:function(){return i(e.id,e)},children:"View answers"})]}),Object(p.jsxs)("div",{className:"actions",children:[Object(p.jsx)("button",{className:"edit",onClick:function(){t(e.id,e)},children:"edit"}),Object(p.jsx)("button",{className:"delete",onClick:function(){console.warn("delete form id",e.id),O.deleteForm(e.id).then(w)},children:"Delete"})]})]})}))})})]})};n(28);function f(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(p.jsxs)("div",{className:"editField",children:[Object(p.jsx)("input",{className:"questionField",type:"text",placeholder:"question..."}),Object(p.jsxs)("select",{name:"questionType",onChange:function(e){return i(e.target.value)},children:[Object(p.jsx)("option",{value:"shortAnswer",children:"Short Answer"}),Object(p.jsx)("option",{value:"longAnswer",children:"Long Answer"}),Object(p.jsx)("option",{value:"oneAnswer",children:"One Answer"}),Object(p.jsx)("option",{value:"multipleAnswer",children:"Multiple Answer"}),Object(p.jsx)("option",{value:"line",children:"Line"})]}),Object(p.jsxs)("label",{className:"required",children:[Object(p.jsx)("input",{value:"Add option",type:"checkbox",className:"required"}),"Required"]}),Object(p.jsxs)("div",{className:"questionToAnswer",children:["shortAnswer"===n&&Object(p.jsx)("input",{className:"shortAnswer",type:"text",placeholder:"placeholder text..."}),"longAnswer"===n&&Object(p.jsx)("textarea",{className:"longAnswer",type:"text",rows:"5",placeholder:"placeholder text..."}),"oneAnswer"===n&&Object(p.jsxs)("div",{className:"answers",children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"radio",name:"answer"})," answer"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"radio",name:"answer"})," answer"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"radio",name:"answer"})," answer"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"radio",name:"answer"})," answer"]}),Object(p.jsx)("div",{className:"addMore",children:Object(p.jsx)("button",{className:"addMore",children:"add more "})})]}),"multipleAnswer"===n&&Object(p.jsxs)("div",{className:"answers",children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"answer"})," answer"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"answer"})," answer"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"answer"})," answer"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:"answer"})," answer"]})," ",Object(p.jsx)("div",{className:"addMore",children:Object(p.jsx)("button",{children:"add more "})})]}),"line"===n&&Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"number",placeholder:"Minimum value...",className:"linebox",min:"0",max:"100"}),Object(p.jsx)("input",{type:"number",placeholder:"Maximum value...",className:"linebox",min:"0",max:"100"})]})]}),("oneAnswer"===n||"multipleAnswer"===n)&&Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{value:"Add option",type:"checkbox",className:"optional"}),"Allow other answer"]}),Object(p.jsxs)("div",{className:"buttonBox",children:[Object(p.jsx)("button",{type:"button",className:"remove",children:"Remove this field"}),Object(p.jsx)("button",{type:"button",className:"moveUp",children:"Move Up"}),Object(p.jsx)("button",{type:"button",className:"moveDown",children:"Move down"})]})]})}n(29);function w(e){var t=Object(s.useState)([]),n=Object(l.a)(t,2),i=n[0],r=n[1];return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"buttons",children:[Object(p.jsx)("h1",{children:"EDIT FORM"}),Object(p.jsxs)("button",{className:"newField",onClick:function(e){var t=Object(d.a)(i.concat(function(e,t){return{question:e,type:t}}("a","b")));r(t)},children:["add new field"," "]}),Object(p.jsx)("button",{className:"save",children:"save"}),Object(p.jsx)("button",{className:"goBack",onClick:function(){e.onBack()},children:"Go back"})]}),Object(p.jsx)(f,{}),i.map((function(e){return Object(p.jsx)(f,{})}))]})}n(30),n(31);function v(e){var t=Object(o.g)().id,n=Object(s.useState)([]),i=Object(l.a)(n,2),r=i[0],c=i[1],a=Object(s.useState)([]),u=Object(l.a)(a,2),d=u[0],j=u[1];function b(e){var t=[];r.map((function(e){return e[1]}));for(var n=0;n<r.length;n++)t.push(r[n][e]);return t.map((function(e){return Object(p.jsx)("div",{className:"answerIterated",children:e})}))}return Object(s.useEffect)((function(){(function(e){return O.getAnswers(e)})(t).then((function(e){c(Object.values(e)),function(e){O.getFormQuestions(e).then((function(e){return j(e)}))}(t)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:Object(p.jsxs)("button",{className:"goBack",onClick:function(){return e.onBack()},children:["Go back"," "]})}),Object(p.jsxs)("h1",{children:["Answers to question id: ",Object(p.jsx)("u",{children:t})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"answersBody",children:d.map((function(e,t){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"oneQuestion",children:e.text}),Object(p.jsx)("div",{className:"iterateAnswer",children:b(t)})]})}))})]})}var g=n(21),y=(n(40),["question"]);function N(e){var t=Object(o.g)().id,n=Object(o.f)(),i=Object(s.useState)([]),r=Object(l.a)(i,2),c=r[0],a=r[1];return Object(s.useEffect)((function(){!function(e){O.getFormQuestions(e).then((function(e){return a(e)}))}(t)}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("button",{className:"backButton",onClick:function(){n.push("/")},children:"Back"})}),Object(p.jsxs)("div",{className:"answersViewForm",children:[" ",c.map((function(e){return Object(p.jsxs)("div",{className:"singleQuestion",children:["shortAnswer"===e.type&&Object(p.jsx)(A,{question:e}),"longAnswer"===e.type&&Object(p.jsx)(k,{question:e}),"oneAnswer"===e.type&&Object(p.jsx)(q,{question:e}),"multipleAnswer"===e.type&&Object(p.jsx)(C,{question:e}),"line"===e.type&&Object(p.jsx)(F,{question:e})]})}))]})]})}function A(e){var t=e.question,n=e.children,i=Object(s.useState)(""),r=Object(l.a)(i,2),c=r[0],a=r[1];return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[t.text," ",t.required&&"(required)"]}),Object(p.jsx)("div",{children:n||Object(p.jsx)("input",{className:"inputBoxShort",type:"text",placeholder:"Your answer...",value:c,onChange:function(e){return a(e.target.value)}})})]})}function k(e){var t=e.question,n=(Object(g.a)(e,y),Object(s.useState)("")),i=Object(l.a)(n,2),r=(i[0],i[1]);return Object(p.jsx)(A,{question:t,children:Object(p.jsx)("textarea",{className:"inputBoxLong",onChange:function(e){return r(e.target.value)}})})}function q(e){var t=e.question,n=Object(s.useState)(""),i=Object(l.a)(n,2),r=(i[0],i[1]);return Object(p.jsx)("div",{className:"oneAnswer",children:Object(p.jsxs)("form",{children:[t.text,t.required&&" (required)",t.options.map((function(e){return Object(p.jsxs)("label",{className:"labelOneAnswer",children:[Object(p.jsx)("input",{type:"radio",label:"radio",name:"oneAnswer",onChange:function(e){return r(e.target.value)}}),e]})}))]})})}function C(e){var t=e.question,n=Object(s.useState)(""),i=Object(l.a)(n,2),r=(i[0],i[1]);return Object(p.jsx)("div",{className:"oneAnswer",children:Object(p.jsxs)("form",{children:[t.text,t.required&&"(required)",t.options.map((function(e){return Object(p.jsxs)("label",{className:"labelOneAnswer",children:[Object(p.jsx)("input",{type:"checkbox",label:"checkbox",name:"oneAnswer",onChange:function(e){return r(e.target.value)}}),e]})}))]})})}function F(e){var t=e.question,n=Object(s.useState)(""),i=Object(l.a)(n,2),r=i[0],c=i[1];return Object(p.jsxs)("form",{children:[t.text,t.required&&" (required)",Object(p.jsxs)("div",{className:"sliderContainer",children:[Object(p.jsx)("input",{type:"range",min:t.range[0],max:t.range[1],class:"slider",id:"myRange",onChange:function(e){return c(e.target.value)}}),r]})]})}function S(){return Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(a.a,{children:Object(p.jsx)(o.c,{children:Object(p.jsx)(B,{})})})})}function B(e){var t=Object(o.f)(),n=Object(o.g)().id;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",children:Object(p.jsx)(x,{onEdit:function(e){t.push("/edit/".concat(e))},onView:function(e){t.push("/view/".concat(e))},onAnswer:function(e){t.push("/answer/".concat(e))}})}),Object(p.jsx)(o.a,{exact:!0,path:"/edit/:id",children:Object(p.jsx)(w,{form:n,onBack:function(){t.push("/")}})}),Object(p.jsx)(o.a,{path:"/view/:id?",children:Object(p.jsx)(N,{id:n})}),Object(p.jsx)(o.a,{path:"/answer/:id",children:Object(p.jsx)(v,{id:n,onBack:function(){return t.push("/")}})})]})}c.a.render(Object(p.jsx)(S,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b6b3c672.chunk.js.map